<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>–¢–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            user-select: none;
            -webkit-user-select: none;
            -webkit-touch-callout: none;
            -webkit-tap-highlight-color: transparent;
        }
        
        .program-header {
            text-align: center;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            margin: 20px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            position: relative;
            width: calc(100% - 40px);
            max-width: 1000px;
        }
        
        .back-btn {
            position: absolute;
            top: 15px;
            left: 15px;
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            text-decoration: none;
        }
        
        .back-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }
        
        .program-title {
            font-size: 2rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
        }
        
        .editor-container {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            margin: 0 20px 20px;
            box-shadow: 0 0 50px rgba(0, 0, 0, 0.3);
            width: calc(100% - 40px);
            max-width: 1000px;
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .toolbar {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            padding: 20px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.2);
        }
        
        .toolbar-group {
            display: flex;
            gap: 5px;
            align-items: center;
        }
        
        .toolbar-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 8px 12px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            min-width: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .toolbar-btn:hover, .toolbar-btn.active {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }
        
        .toolbar-select {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 8px;
            border-radius: 10px;
            cursor: pointer;
        }
        
        .toolbar-input {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 8px;
            border-radius: 10px;
            width: 60px;
            text-align: center;
        }
        
        .toolbar-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }
        
        .editor-area {
            flex: 1;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }
        
        .editor {
            flex: 1;
            background: rgba(255, 255, 255, 0.95);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 15px;
            padding: 20px;
            font-size: 16px;
            line-height: 1.6;
            color: #333;
            resize: none;
            outline: none;
            min-height: 400px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .editor:focus {
            border-color: rgba(255, 255, 255, 0.5);
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
        }
        
        .status-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            border-top: 2px solid rgba(255, 255, 255, 0.2);
            font-size: 14px;
            opacity: 0.8;
        }
        
        .stats {
            display: flex;
            gap: 20px;
        }
        
        .file-actions {
            display: flex;
            gap: 10px;
        }
        
        .action-btn {
            background: rgba(76, 175, 80, 0.3);
            border: 2px solid rgba(76, 175, 80, 0.5);
            color: #4CAF50;
            padding: 8px 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }
        
        .action-btn:hover {
            background: rgba(76, 175, 80, 0.5);
            transform: scale(1.05);
        }
        
        .action-btn.save {
            background: rgba(33, 150, 243, 0.3);
            border-color: rgba(33, 150, 243, 0.5);
            color: #2196F3;
        }
        
        .action-btn.save:hover {
            background: rgba(33, 150, 243, 0.5);
        }
        
        .action-btn.load {
            background: rgba(255, 193, 7, 0.3);
            border-color: rgba(255, 193, 7, 0.5);
            color: #FFC107;
        }
        
        .action-btn.load:hover {
            background: rgba(255, 193, 7, 0.5);
        }
        
        .hidden {
            display: none;
        }
        
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        
        .modal-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 30px;
            border-radius: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            max-width: 400px;
            width: 90%;
            text-align: center;
        }
        
        .modal-input {
            width: 100%;
            padding: 12px;
            margin: 15px 0;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            color: white;
            font-size: 16px;
        }
        
        .modal-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }
        
        @media (max-width: 768px) {
            .program-header {
                padding: 15px;
                margin: 10px;
            }
            
            .program-title {
                font-size: 1.5rem;
            }
            
            .toolbar {
                padding: 15px;
            }
            
            .editor {
                font-size: 14px;
                padding: 15px;
                min-height: 300px;
            }
            
            .toolbar-group {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <div class="program-header">
        <a href="../index.html" class="back-btn" title="–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ª–∞—É–Ω—á–µ—Ä—É">‚Üê</a>
        <h1 class="program-title">üìù –¢–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä</h1>
        <p>–ú–Ω–æ–≥–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä —Ç–µ–∫—Å—Ç–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤</p>
    </div>
    
    <div class="editor-container">
        <div class="toolbar">
            <div class="toolbar-group">
                <button class="toolbar-btn" onclick="execCommand('undo')" title="–û—Ç–º–µ–Ω–∏—Ç—å">‚Ü∂</button>
                <button class="toolbar-btn" onclick="execCommand('redo')" title="–ü–æ–≤—Ç–æ—Ä–∏—Ç—å">‚Ü∑</button>
            </div>
            
            <div class="toolbar-group">
                <button class="toolbar-btn" onclick="toggleFormat('bold')" title="–ñ–∏—Ä–Ω—ã–π">B</button>
                <button class="toolbar-btn" onclick="toggleFormat('italic')" title="–ö—É—Ä—Å–∏–≤">I</button>
                <button class="toolbar-btn" onclick="toggleFormat('underline')" title="–ü–æ–¥—á—ë—Ä–∫–Ω—É—Ç—ã–π">U</button>
                <button class="toolbar-btn" onclick="toggleFormat('strikethrough')" title="–ó–∞—á—ë—Ä–∫–Ω—É—Ç—ã–π">S</button>
            </div>
            
            <div class="toolbar-group">
                <select class="toolbar-select" onchange="changeFontSize(this.value)">
                    <option value="12">12px</option>
                    <option value="14">14px</option>
                    <option value="16" selected>16px</option>
                    <option value="18">18px</option>
                    <option value="20">20px</option>
                    <option value="24">24px</option>
                    <option value="28">28px</option>
                    <option value="32">32px</option>
                </select>
                
                <select class="toolbar-select" onchange="changeFontFamily(this.value)">
                    <option value="Arial, sans-serif">Arial</option>
                    <option value="'Times New Roman', serif">Times</option>
                    <option value="'Courier New', monospace">Courier</option>
                    <option value="Georgia, serif">Georgia</option>
                    <option value="Verdana, sans-serif">Verdana</option>
                </select>
            </div>
            
            <div class="toolbar-group">
                <button class="toolbar-btn" onclick="toggleFormat('justifyLeft')" title="–ü–æ –ª–µ–≤–æ–º—É –∫—Ä–∞—é">‚¨Ö</button>
                <button class="toolbar-btn" onclick="toggleFormat('justifyCenter')" title="–ü–æ —Ü–µ–Ω—Ç—Ä—É">‚¨å</button>
                <button class="toolbar-btn" onclick="toggleFormat('justifyRight')" title="–ü–æ –ø—Ä–∞–≤–æ–º—É –∫—Ä–∞—é">‚û°</button>
                <button class="toolbar-btn" onclick="toggleFormat('justifyFull')" title="–ü–æ —à–∏—Ä–∏–Ω–µ">‚¨ç</button>
            </div>
            
            <div class="toolbar-group">
                <button class="toolbar-btn" onclick="insertList('insertUnorderedList')" title="–ú–∞—Ä–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫">‚Ä¢ List</button>
                <button class="toolbar-btn" onclick="insertList('insertOrderedList')" title="–ù—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫">1. List</button>
                <button class="toolbar-btn" onclick="insertLink()" title="–í—Å—Ç–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É">üîó</button>
            </div>
            
            <div class="toolbar-group">
                <input type="color" class="toolbar-btn" onchange="changeColor(this.value)" title="–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞" style="width: 40px; height: 36px;">
                <button class="toolbar-btn" onclick="clearFormatting()" title="–û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ">‚úó</button>
            </div>
        </div>
        
        <div class="editor-area">
            <div 
                class="editor" 
                contenteditable="true" 
                id="textEditor"
                placeholder="–ù–∞—á–Ω–∏—Ç–µ –Ω–∞–±–∏—Ä–∞—Ç—å —Ç–µ–∫—Å—Ç –∑–¥–µ—Å—å..."
                oninput="updateStats()"
                onkeyup="updateStats()"
            ></div>
        </div>
        
        <div class="status-bar">
            <div class="stats">
                <span>–°–∏–º–≤–æ–ª–æ–≤: <strong id="charCount">0</strong></span>
                <span>–°–ª–æ–≤: <strong id="wordCount">0</strong></span>
                <span>–°—Ç—Ä–æ–∫: <strong id="lineCount">1</strong></span>
            </div>
            
            <div class="file-actions">
                <button class="action-btn" onclick="newDocument()">üìÑ –ù–æ–≤—ã–π</button>
                <button class="action-btn load" onclick="loadFile()">üìÅ –û—Ç–∫—Ä—ã—Ç—å</button>
                <button class="action-btn save" onclick="saveFile()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button class="action-btn" onclick="exportToPDF()">üìÑ PDF</button>
                <button class="action-btn" onclick="printDocument()">üñ® –ü–µ—á–∞—Ç—å</button>
            </div>
        </div>
    </div>
    
    <!-- Save Modal -->
    <div id="saveModal" class="modal">
        <div class="modal-content">
            <h2>üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª</h2>
            <input type="text" class="modal-input" id="fileName" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è —Ñ–∞–π–ª–∞" value="document.html">
            <div style="margin-top: 20px;">
                <button class="action-btn save" onclick="confirmSave()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button class="action-btn" onclick="closeModal('saveModal')" style="margin-left: 10px;">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>
    
    <!-- Link Modal -->
    <div id="linkModal" class="modal">
        <div class="modal-content">
            <h2>üîó –í—Å—Ç–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É</h2>
            <input type="text" class="modal-input" id="linkText" placeholder="–¢–µ–∫—Å—Ç —Å—Å—ã–ª–∫–∏">
            <input type="url" class="modal-input" id="linkUrl" placeholder="https://example.com">
            <div style="margin-top: 20px;">
                <button class="action-btn" onclick="confirmLink()">–í—Å—Ç–∞–≤–∏—Ç—å</button>
                <button class="action-btn" onclick="closeModal('linkModal')" style="margin-left: 10px;">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>
    
    <input type="file" id="fileInput" accept=".txt,.html,.md" class="hidden">

    <script>
        // Editor functionality
        const editor = document.getElementById('textEditor');
        const charCount = document.getElementById('charCount');
        const wordCount = document.getElementById('wordCount');
        const lineCount = document.getElementById('lineCount');
        
        // Initialize editor with welcome text
        editor.innerHTML = `
            <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä!</h1>
            <p>–≠—Ç–æ—Ç —Ä–µ–¥–∞–∫—Ç–æ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:</p>
            <ul>
                <li><strong>–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞</strong> - –∂–∏—Ä–Ω—ã–π, –∫—É—Ä—Å–∏–≤, –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏–µ</li>
                <li><em>–†–∞–∑–ª–∏—á–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã</em> –∏ —Ä–∞–∑–º–µ—Ä—ã</li>
                <li>–í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏ —Å–ø–∏—Å–∫–∏</li>
                <li>–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤</li>
                <li>–≠–∫—Å–ø–æ—Ä—Ç –≤ PDF –∏ –ø–µ—á–∞—Ç—å</li>
            </ul>
            <p>–ù–∞—á–Ω–∏—Ç–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Ç–µ–∫—Å—Ç –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –¥–æ–∫—É–º–µ–Ω—Ç!</p>
        `;
        
        updateStats();
        
        // Sound system
        function playSound(frequency = 440, duration = 100, type = 'sine') {
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.value = frequency;
                oscillator.type = type;
                
                gainNode.gain.setValueAtTime(0.05, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration / 1000);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + duration / 1000);
            } catch (e) {
                // Audio not supported
            }
        }
        
        // Formatting functions
        function execCommand(command, value = null) {
            document.execCommand(command, false, value);
            playSound(600, 80);
            editor.focus();
        }
        
        function toggleFormat(command) {
            execCommand(command);
            updateToolbarState();
        }
        
        function changeFontSize(size) {
            execCommand('fontSize', '3');
            const selection = window.getSelection();
            if (selection.rangeCount > 0) {
                const range = selection.getRangeAt(0);
                const selectedText = range.extractContents();
                const span = document.createElement('span');
                span.style.fontSize = size + 'px';
                span.appendChild(selectedText);
                range.insertNode(span);
            }
            playSound(650, 80);
        }
        
        function changeFontFamily(font) {
            execCommand('fontName', font);
        }
        
        function changeColor(color) {
            execCommand('foreColor', color);
        }
        
        function insertList(type) {
            execCommand(type);
        }
        
        function clearFormatting() {
            execCommand('removeFormat');
            playSound(700, 100, 'square');
        }
        
        function insertLink() {
            document.getElementById('linkModal').style.display = 'flex';
            document.getElementById('linkText').focus();
        }
        
        function confirmLink() {
            const text = document.getElementById('linkText').value;
            const url = document.getElementById('linkUrl').value;
            
            if (text && url) {
                const link = `<a href="${url}" target="_blank">${text}</a>`;
                execCommand('insertHTML', link);
                playSound(800, 120);
            }
            
            closeModal('linkModal');
        }
        
        function updateStats() {
            const text = editor.textContent || editor.innerText || '';
            const chars = text.length;
            const words = text.trim() === '' ? 0 : text.trim().split(/\\s+/).length;
            const lines = text.split('\\n').length;
            
            charCount.textContent = chars;
            wordCount.textContent = words;
            lineCount.textContent = lines;
        }
        
        function updateToolbarState() {
            // Update button states based on current selection
            document.querySelectorAll('.toolbar-btn').forEach(btn => {
                btn.classList.remove('active');
            });
        }
        
        // File operations
        function newDocument() {
            if (confirm('–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –¥–æ–∫—É–º–µ–Ω—Ç? –ù–µ—Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±—É–¥—É—Ç –ø–æ—Ç–µ—Ä—è–Ω—ã.')) {
                editor.innerHTML = '';
                updateStats();
                playSound(600, 150);
            }
        }
        
        function saveFile() {
            document.getElementById('saveModal').style.display = 'flex';
            document.getElementById('fileName').focus();
        }
        
        function confirmSave() {
            const fileName = document.getElementById('fileName').value || 'document.html';
            const content = editor.innerHTML;
            
            const fullHTML = `
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–æ–∫—É–º–µ–Ω—Ç</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            line-height: 1.6; 
            max-width: 800px; 
            margin: 0 auto; 
            padding: 20px; 
        }
    </style>
</head>
<body>
${content}
</body>
</html>`;
            
            const blob = new Blob([fullHTML], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = fileName;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            playSound(800, 200, 'triangle');
            closeModal('saveModal');
        }
        
        function loadFile() {
            document.getElementById('fileInput').click();
        }
        
        document.getElementById('fileInput').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    let content = e.target.result;
                    
                    // If it's an HTML file, extract body content
                    if (file.name.endsWith('.html')) {
                        const bodyMatch = content.match(/<body[^>]*>([\\s\\S]*?)<\\/body>/i);
                        if (bodyMatch) {
                            content = bodyMatch[1];
                        }
                    }
                    
                    editor.innerHTML = content;
                    updateStats();
                    playSound(700, 150);
                };
                reader.readAsText(file);
            }
        });
        
        function exportToPDF() {
            // Simple PDF export by opening print dialog
            const printWindow = window.open('', '_blank');
            printWindow.document.write(`
                <!DOCTYPE html>
                <html>
                <head>
                    <title>–î–æ–∫—É–º–µ–Ω—Ç</title>
                    <style>
                        body { 
                            font-family: Arial, sans-serif; 
                            line-height: 1.6; 
                            margin: 20px; 
                        }
                        @media print {
                            body { margin: 0; }
                        }
                    </style>
                </head>
                <body>
                    ${editor.innerHTML}
                </body>
                </html>
            `);
            printWindow.document.close();
            printWindow.print();
            playSound(750, 150);
        }
        
        function printDocument() {
            exportToPDF();
        }
        
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
            editor.focus();
        }
        
        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey || e.metaKey) {
                switch(e.key.toLowerCase()) {
                    case 's':
                        e.preventDefault();
                        saveFile();
                        break;
                    case 'o':
                        e.preventDefault();
                        loadFile();
                        break;
                    case 'n':
                        e.preventDefault();
                        newDocument();
                        break;
                    case 'b':
                        e.preventDefault();
                        toggleFormat('bold');
                        break;
                    case 'i':
                        e.preventDefault();
                        toggleFormat('italic');
                        break;
                    case 'u':
                        e.preventDefault();
                        toggleFormat('underline');
                        break;
                }
            }
        });
        
        // Auto-save to localStorage
        let autoSaveTimer;
        editor.addEventListener('input', function() {
            clearTimeout(autoSaveTimer);
            autoSaveTimer = setTimeout(() => {
                localStorage.setItem('textEditorContent', editor.innerHTML);
            }, 2000);
        });
        
        // Load auto-saved content on page load
        window.addEventListener('load', function() {
            const savedContent = localStorage.getItem('textEditorContent');
            if (savedContent && savedContent !== editor.innerHTML) {
                if (confirm('–ù–∞–π–¥–µ–Ω–æ –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ. –ó–∞–≥—Ä—É–∑–∏—Ç—å –µ–≥–æ?')) {
                    editor.innerHTML = savedContent;
                    updateStats();
                }
            }
        });
        
        // Modal click outside to close
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.style.display = 'none';
                }
            });
        });
        
        // Focus editor on page load
        editor.focus();
    </script>
</body>
</html>